<div class="pod-list-container">
    <div *ngIf="loading" class="loading-spinner">
      <mat-spinner diameter="40"></mat-spinner>
    </div>
  
    <div *ngIf="!loading && pods.length === 0" class="no-data">
      No pods found
    </div>
  
    <table *ngIf="!loading && pods.length > 0" mat-table [dataSource]="pods" class="mat-elevation-z8">
      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let pod">
          <a [routerLink]="['/pods', pod.namespace, pod.name]">{{ pod.name }}</a>
        </td>
      </ng-container>
  
      <!-- Namespace Column -->
      <ng-container matColumnDef="namespace">
        <th mat-header-cell *matHeaderCellDef>Namespace</th>
        <td mat-cell *matCellDef="let pod">{{ pod.namespace }}</td>
      </ng-container>
  
      <!-- Status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let pod">
          <mat-chip [color]="getStatusColor(pod.status)" selected>
            {{ pod.status }}
          </mat-chip>
        </td>
      </ng-container>
  
      <!-- Node Column -->
      <ng-container matColumnDef="node">
        <th mat-header-cell *matHeaderCellDef>Node</th>
        <td mat-cell *matCellDef="let pod">{{ pod.nodeName }}</td>
      </ng-container>
  
      <!-- Containers Column -->
      <ng-container matColumnDef="containers">
        <th mat-header-cell *matHeaderCellDef>Containers</th>
        <td mat-cell *matCellDef="let pod">
          <div *ngFor="let container of pod.containers" class="container-info">
            <span class="container-name">{{ container.name }}</span>
            <mat-chip-list>
              <mat-chip [color]="container.ready ? 'primary' : 'warn'" selected>
                {{ container.state }}
              </mat-chip>
            </mat-chip-list>
          </div>
        </td>
      </ng-container>
  
      <!-- Metrics Column -->
      <ng-container matColumnDef="metrics">
        <th mat-header-cell *matHeaderCellDef>Metrics</th>
        <td mat-cell *matCellDef="let pod">
          <div *ngIf="pod.metrics.cpu && pod.metrics.memory" class="metrics">
            <div>CPU: {{ pod.metrics.cpu }}</div>
            <div>Memory: {{ pod.metrics.memory }}</div>
          </div>
          <div *ngIf="pod.metrics.error" class="metrics-error">
            {{ pod.metrics.error }}
          </div>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>